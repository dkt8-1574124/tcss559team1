<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="(View for users)">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>UserHomePage</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="UserHomePage.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.0.3, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <style>
		.isDisabled {
		  cursor: not-allowed;
		  opacity: 0.5;
		}
	</style>
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images/default-logo.png"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="UserHomePage">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body"><header class="u-clearfix u-header u-header" id="sec-b6c1"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="https://nicepage.com" class="u-image u-logo u-image-1" data-image-width="150" data-image-height="142">
          <img src="images/bin_icon.png" class="u-logo-image u-logo-image-1">
        </a>
        <h1 class="u-text u-text-default u-text-1">BinPoint</h1>
        <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
            </a>
          </div>
          <div class="u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Home.html" style="padding: 10px 20px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="About.html" style="padding: 10px 20px;">About</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Contact.html" style="padding: 10px 20px;">Contact</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="Page-1.html" style="padding: 10px 20px;">Page 1</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="UserHomePage.html" style="padding: 10px 20px;">UserHomePage</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="CompanyHomePage.html" style="padding: 10px 20px;">CompanyHomePage</a>
</li></ul>
          </div>
          <div class="u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="About.html">About</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Contact.html">Contact</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Page-1.html">Page 1</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="UserHomePage.html">UserHomePage</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="CompanyHomePage.html">CompanyHomePage</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-clearfix u-section-1" id="sec-46fc">
      <div class="u-clearfix u-sheet u-sheet-1">
        <div class="u-clearfix u-expanded-width u-gutter-0 u-layout-spacing-vertical u-layout-wrap u-layout-wrap-1">
          <div class="u-gutter-0 u-layout" style="">
            <div class="u-layout-row" style="">
              <div class="u-size-26" style="">
                <div class="u-layout-col" style="">
                  <div class="u-size-30">
                    <div class="u-layout-row">
                      <div class="u-align-left u-container-style u-layout-cell u-left-cell u-size-60 u-white u-layout-cell-1">
                        <div class="u-container-layout u-container-layout-1">
                          <h2 class="u-text u-text-1">Your Current Bin's Information&nbsp;</h2>
                          <p id="address" class="u-text u-text-palette-3-base u-text-2">
                            <span class="u-text-black"> Address:</span> 6140 S DAMEN AVE, Chicago, 60636
                          </p>
                          <p id="lat_lng" class="u-text u-text-palette-2-base u-text-3">
                            <span class="u-text-black"> Langitude, longitude: </span>41.78176, -87.674113
                          </p>
                          <p id="last_pickup" class="u-text u-text-palette-4-base u-text-4">
                            <span class="u-text-black"> Last pickup:</span> 4 days ago
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="u-size-30" style="">
                    <div class="u-layout-row" style="">
                      <div class="u-align-left u-container-style u-layout-cell u-left-cell u-size-30 u-white u-layout-cell-2">
                        <div class="u-container-layout u-container-layout-2">
                          <img id="bin_pic" class="u-image u-image-default u-preserve-proportions u-image-1" src="images/bin_0.png" alt="" data-image-width="512" data-image-height="512">
                        </div>
                      </div>
                      <div class="u-container-style u-layout-cell u-size-30 u-layout-cell-3">
                        <div class="u-container-layout u-container-layout-3">
                          <h2 class="u-text u-text-5">Bin's Status</h2>
                          <p class="u-text u-text-6">You've used</p>
                          <div class="u-list u-list-1">
                            <div class="u-repeater u-repeater-1">
                              <div class="u-align-center u-container-style u-list-item u-radius-20 u-repeater-item u-shape-round u-white u-list-item-1">
                                <div id="used_capacity" class="u-container-layout u-similar-container u-valign-middle u-container-layout-4">
                                  <h3 class="u-custom-font u-font-montserrat u-text u-text-default u-text-palette-2-base u-text-7" data-animation-name="counter" data-animation-event="scroll" data-animation-duration="3000">17</h3>
                                  <p class="u-text u-text-default u-text-8">Lbs</p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <p class="u-text u-text-9">out of 50 lbs</p>
                          <div  class="u-container-style u-group u-palette-1-light-2 u-radius-50 u-shape-round u-group-1">
                            <div id="cannot_pickup" class="u-container-layout u-container-layout-5">
                              <p class="u-align-center u-text u-text-10">CANNOT REQUEST EARLY PICKUP</p>
                            </div>
                          </div>
                          <div id="pickup">
	                          <a href="https://nicepage.com/k/presentation-html-templates" class="u-align-center u-border-none u-btn u-btn-round u-button-style u-custom-color-1 u-hover-palette-2-light-1 u-radius-50 u-text-hover-palette-3-light-1 u-text-palette-3-base u-btn-1"> &nbsp;â€‹&nbsp;Request early pickup</a>
	                          <img class="u-image u-image-circle u-preserve-proportions u-image-2" src="images/pngwing.com.png" alt="" data-image-width="889" data-image-height="889">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="u-size-34">
                <div class="u-layout-row">
                  <div class="u-align-left u-container-style u-layout-cell u-right-cell u-size-60 u-layout-cell-4">
                    <div class="u-container-layout u-container-layout-6">
                      <div class="u-align-left u-grey-10 u-map u-map-1">
                        <div id="map" class="embed-responsive">
                        
						</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-fed6"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Sample text. Click to select the text box. Click again or double click to start editing the text.</p>
      </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <a class="u-link" href="https://nicepage.com/html-templates" target="_blank">
        <span>HTML Template</span>
      </a>
      <p class="u-text">
        <span>created with</span>
      </p>
      <a class="u-link" href="https://nicepage.com/website-builder" target="_blank">
        <span>Website Builder</span>
      </a>. 
    </section>
  </body>
  
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBy_Gi3lu5iozQisJPSFPEbARrsmsx1JCQ&callback=initMap&libraries=&v=weekly"async></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript">
	  $(document).ready(function () {	      
	      $.getJSON("api/upload/select-one-random").done(function (data) {
		      //display current location of user's bin (in this case, we just their house location)
	          processData = JSON.parse(JSON.stringify(data));      	
	          const jArray = processData[0];
		      console.log("processData");console.log(jArray);
		      
		      //Display user's bin information
			  //$("#address").text("Address: " + jArray[6] + ", Chicago, " + jArray[7]);
			  $("#address").html("<span class=\"u-text-black\"> <b>Address</b>\: </span>" + jArray[6] + ", Chicago, " + jArray[7] );
			  //$("#lat_lng").text("Langitude, longitude: " + jArray[8].toString() + ", " + jArray[9].toString());
			  $("#lat_lng").html("<span class=\"u-text-black\"> <b>Coordinates</b>\: </span>" + jArray[8].toString() + ", " + jArray[9].toString());
	      	  //$("#last_pickup").text("Last pickup: " + Math.floor(Math.random() * 7) + " days ago");
	      	  $("#last_pickup").html("<span class=\"u-text-black\"> <b>Last pickup</b>\: </span>" + Math.floor(Math.random() * 7) + " days ago");
	      	  
	      	  //Display bin load, color by garbage load 
			  var load = jArray[10] / jArray[11] * 100;
	      	  if (load < 5) {
	      		  $("#bin_pic").attr("src", "images/bin_0.png");
	      	  } else if  (load < 20) {
	      		  $("#bin_pic").attr("src", "images/b20.png");
	      	  } else if (load < 40){
	      		  $("#bin_pic").attr("src", "images/b40.png");
	      	  } else if (load < 60){
	      		  $("#bin_pic").attr("src", "images/b60.png");
	      	  } else if (load < 80){
	      		  $("#bin_pic").attr("src", "images/b80.png");
	      	  } else if (load < 100){
	      		  $("#bin_pic").attr("src", "images/b100.png");
	      	  } else {
	      		  $("#bin_pic").attr("src", "images/b120.png");
	      	  }
	      	  
	      	  //Display request button if garbage load is more than 80%
			  if (load < 80) {
			    $("#pickup").hide();
			  } else {
				$("#cannot_pickup").hide();
			  }
	      	  
	      	  //Display used capacity
	      	  var usedCapacity = jArray[10];
	      	  console.log(usedCapacity);
	      	  $("#used_capacity").html("<h3  class=\"u-custom-font u-font-montserrat u-text u-text-default u-text-palette-2-base u-text-7\" \r\n"
	      			+ "data-animation-name=\"counter\" data-animation-event=\"scroll\" data-animation-duration=\"9000\">\r\n"
	      			+ usedCapacity + "\r\n"
	      			+ "</h3>\r\n"
	      			+ "<p class=\"u-text u-text-default u-text-8\">Lbs<\/p>");
			 	      	  
	      	  
	      	  //insert Google map
			  const bin_loc = { lat: jArray[8], lng: jArray[9] };
			  const map = new google.maps.Map(document.getElementById("map"), {
			      zoom: 17,
			      center: bin_loc,
			  });

			  const marker = new google.maps.Marker({
			      position: bin_loc,
			      map: map,
			      icon: 'bin_icon.png'
			  });
	      });   
	  }); 
  </script> 
  
</html>